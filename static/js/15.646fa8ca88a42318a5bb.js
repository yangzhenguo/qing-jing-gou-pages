webpackJsonp([15],{"8rR3":function(n,e,t){var s=t("dLxn");"string"==typeof s&&(s=[[n.i,s,""]]),s.locals&&(n.exports=s.locals);t("rjj0")("d401831e",s,!1,{})},KTvf:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("Dd8w"),a=t.n(s),i=t("/KFX"),A=t("Mtv5"),o=t("YtJ0"),r=t("NYxO"),c={name:"Order",beforeRouteEnter:function(n,e,t){window.scrollTo(0,0),t()},created:function(){this.loadAddress()},data:function(){return{goodsCheckList:[],columns:[{type:"selection",width:58,align:"center"},{title:"图片",key:"img",width:86,render:function(n,e){return n("div",[n("img",{attrs:{src:e.row.img}})])},align:"center"},{title:"标题",key:"title",align:"center"},{title:"套餐",width:198,key:"package",align:"center"},{title:"数量",key:"count",width:68,align:"center"},{title:"价格",width:68,key:"price",align:"center"}],checkAddress:{name:"未选择",address:"请选择地址"},remarks:""}},computed:a()({},Object(r.e)(["address","shoppingCart"]),{totalPrice:function(){var n=0;return this.goodsCheckList.forEach(function(e){n+=e.price*e.count}),n}}),methods:a()({},Object(r.b)(["loadAddress"]),{select:function(n,e){console.log(n),this.goodsCheckList=n},changeAddress:function(n){var e=this;this.address.forEach(function(t){t.addressId===n&&(e.checkAddress.name=t.name,e.checkAddress.address=t.name+" "+t.province+" "+t.city+" "+t.address+" "+t.phone+" "+t.postalcode)})}}),mounted:function(){var n=this;setTimeout(function(){n.$refs.selection.selectAll(!0)},500)},components:{Search:i.a,GoodsListNav:A.a},store:o.a},d=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[t("Search"),n._v(" "),t("GoodsListNav"),n._v(" "),t("div",{staticClass:"goods-list-container"},[t("Alert",{staticClass:"tips-box",attrs:{"show-icon":""}},[n._v("\n      小提示\n      "),t("Icon",{attrs:{slot:"icon",type:"ios-lightbulb-outline"},slot:"icon"}),n._v(" "),t("template",{slot:"desc"},[n._v("请点击商品前的选择框，选择购物车中的商品，点击付款即可。")])],2),n._v(" "),t("Table",{ref:"selection",attrs:{border:"",columns:n.columns,data:n.shoppingCart,size:"large","no-data-text":"您的购物车没有商品，请先添加商品到购物车再点击购买"},on:{"on-selection-change":n.select}}),n._v(" "),t("div",{staticClass:"address-container"},[t("h3",[n._v("收货人信息")]),n._v(" "),t("div",{staticClass:"address-box"},[t("div",{staticClass:"address-check"},[t("div",{staticClass:"address-check-name"},[t("span",[t("Icon",{attrs:{type:"ios-checkmark-outline"}}),n._v(" "+n._s(n.checkAddress.name))],1)]),n._v(" "),t("div",{staticClass:"address-detail"},[t("p",[n._v(n._s(n.checkAddress.address))])])]),n._v(" "),t("Collapse",[t("Panel",[n._v("\n              选择地址\n              "),t("p",{attrs:{slot:"content"},slot:"content"},[t("RadioGroup",{attrs:{vertical:"",size:"large"},on:{"on-change":n.changeAddress}},n._l(n.address,function(e,s){return t("Radio",{key:s,attrs:{label:e.addressId}},[t("span",[n._v(n._s(e.name)+" "+n._s(e.province)+" "+n._s(e.city)+" "+n._s(e.address)+" "+n._s(e.phone)+" "+n._s(e.postalcode))])])}),1)],1)])],1)],1)]),n._v(" "),t("div",{staticClass:"remarks-container"},[t("h3",[n._v("备注")]),n._v(" "),t("i-input",{staticClass:"remarks-input",attrs:{size:"large",placeholder:"在这里填写备注信息"},model:{value:n.remarks,callback:function(e){n.remarks=e},expression:"remarks"}})],1),n._v(" "),n._m(0),n._v(" "),t("div",{staticClass:"pay-container"},[t("div",{staticClass:"pay-box"},[t("p",[t("span",[n._v("提交订单应付总额：")]),n._v(" "),t("span",{staticClass:"money"},[t("Icon",{attrs:{type:"social-yen"}}),n._v(" "+n._s(n.totalPrice.toFixed(2)))],1)]),n._v(" "),t("div",{staticClass:"pay-btn"},[t("router-link",{attrs:{to:"/pay"}},[t("Button",{attrs:{type:"error",size:"large"}},[n._v("支付订单")])],1)],1)])])],1)],1)};d._withStripped=!0;var l={render:d,staticRenderFns:[function(){var n=this.$createElement,e=this._self._c||n;return e("div",{staticClass:"invoices-container"},[e("h3",[this._v("发票信息")]),this._v(" "),e("p",[this._v("该商品不支持开发票")])])}]},p=l;var m=!1;var h=t("VU/8")(c,p,!1,function(n){m||t("8rR3")},"data-v-5121c764",null);h.options.__file="src/components/Order.vue";e.default=h.exports},dLxn:function(n,e,t){(n.exports=t("FZ+f")(!0)).push([n.i,"\n.goods-list-container[data-v-5121c764] {\n  margin: 15px auto;\n  width: 80%;\n}\n.tips-box[data-v-5121c764] {\n  margin-bottom: 15px;\n}\n.address-container[data-v-5121c764] {\n  margin-top: 15px;\n}\n.address-box[data-v-5121c764] {\n  margin-top: 15px;\n  padding: 15px;\n  border: 1px #ccc dotted;\n}\n.address-check[data-v-5121c764] {\n  margin: 15px 0px;\n  height: 36px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.address-check-name[data-v-5121c764] {\n  width: 120px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -ms-flex-line-pack: center;\n      align-content: center;\n  background-color: #ccc;\n}\n.address-check-name span[data-v-5121c764] {\n  width: 120px;\n  height: 36px;\n  font-size: 14px;\n  line-height: 36px;\n  text-align: center;\n  color: #fff;\n  background-color: #f90013;\n}\n.address-detail[data-v-5121c764] {\n  padding-left: 15px;\n  font-size: 14px;\n  color: #999999;\n}\n.remarks-container[data-v-5121c764] {\n  margin: 15px 0px;\n}\n.remarks-input[data-v-5121c764] {\n  margin-top: 15px;\n}\n.invoices-container p[data-v-5121c764]{\n  font-size: 12px;\n  line-height: 30px;\n  color: #999;\n}\n.pay-container[data-v-5121c764] {\n  margin: 15px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n.pay-box[data-v-5121c764] {\n  font-size: 18px;\n  font-weight: bolder;\n  color: #495060;\n}\n.money[data-v-5121c764] {\n  font-size: 26px;\n  color: #f90013;\n}\n.pay-btn[data-v-5121c764] {\n  margin: 15px 0px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: end;\n      -ms-flex-pack: end;\n          justify-content: flex-end;\n}\n","",{version:3,sources:["/Users/Sam/work/html/qing-jing-gou-pages/src/components/src/components/Order.vue"],names:[],mappings:";AAqKA;EACA,kBAAA;EACA,WAAA;CACA;AACA;EACA,oBAAA;CACA;AACA;EACA,iBAAA;CACA;AACA;EACA,iBAAA;EACA,cAAA;EACA,wBAAA;CACA;AACA;EACA,iBAAA;EACA,aAAA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,0BAAA;MAAA,uBAAA;UAAA,oBAAA;CACA;AACA;EACA,aAAA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,yBAAA;MAAA,sBAAA;UAAA,wBAAA;EACA,2BAAA;MAAA,sBAAA;EACA,uBAAA;CACA;AACA;EACA,aAAA;EACA,aAAA;EACA,gBAAA;EACA,kBAAA;EACA,mBAAA;EACA,YAAA;EACA,0BAAA;CACA;AACA;EACA,mBAAA;EACA,gBAAA;EACA,eAAA;CACA;AACA;EACA,iBAAA;CACA;AACA;EACA,iBAAA;CACA;AACA;EACA,gBAAA;EACA,kBAAA;EACA,YAAA;CACA;AACA;EACA,aAAA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,sBAAA;MAAA,mBAAA;UAAA,0BAAA;CACA;AACA;EACA,gBAAA;EACA,oBAAA;EACA,eAAA;CACA;AACA;EACA,gBAAA;EACA,eAAA;CACA;AACA;EACA,iBAAA;EACA,qBAAA;EAAA,qBAAA;EAAA,cAAA;EACA,sBAAA;MAAA,mBAAA;UAAA,0BAAA;CACA",file:"Order.vue",sourcesContent:['<template>\n  <div>\n    <Search></Search>\n    <GoodsListNav></GoodsListNav>\n    <div class="goods-list-container">\n      <Alert show-icon class="tips-box">\n        小提示\n        <Icon type="ios-lightbulb-outline" slot="icon"></Icon>\n        <template slot="desc">请点击商品前的选择框，选择购物车中的商品，点击付款即可。</template>\n      </Alert>\n      <Table border ref="selection" :columns="columns" :data="shoppingCart" size="large" @on-selection-change="select" no-data-text="您的购物车没有商品，请先添加商品到购物车再点击购买"></Table>\n      <div class="address-container">\n        <h3>收货人信息</h3>\n        <div class="address-box">\n          <div class="address-check">\n            <div class="address-check-name">\n              <span><Icon type="ios-checkmark-outline"></Icon> {{checkAddress.name}}</span>\n            </div>\n            <div class="address-detail">\n              <p>{{checkAddress.address}}</p>\n            </div>\n          </div>\n          <Collapse>\n            <Panel>\n                选择地址\n                <p slot="content">\n                  <RadioGroup vertical size="large" @on-change="changeAddress">\n                    <Radio :label="item.addressId" v-for="(item, index) in address" :key="index">\n                      <span>{{item.name}} {{item.province}} {{item.city}} {{item.address}} {{item.phone}} {{item.postalcode}}</span>\n                    </Radio>\n                  </RadioGroup>\n                </p>\n            </Panel>\n          </Collapse>\n        </div>\n      </div>\n      <div class="remarks-container">\n        <h3>备注</h3>\n        <i-input v-model="remarks" size="large" placeholder="在这里填写备注信息" class="remarks-input"></i-input>\n      </div>\n      <div class="invoices-container">\n        <h3>发票信息</h3>\n        <p>该商品不支持开发票</p>\n      </div>\n      <div class="pay-container">\n        <div class="pay-box">\n          <p><span>提交订单应付总额：</span> <span class="money"><Icon type="social-yen"></Icon> {{totalPrice.toFixed(2)}}</span></p>\n          <div class="pay-btn">\n            <router-link to="/pay"><Button type="error" size="large">支付订单</Button></router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Search from \'@/components/Search\';\nimport GoodsListNav from \'@/components/nav/GoodsListNav\';\nimport store from \'@/vuex/store\';\nimport { mapState, mapActions } from \'vuex\';\nexport default {\n  name: \'Order\',\n  beforeRouteEnter (to, from, next) {\n    window.scrollTo(0, 0);\n    next();\n  },\n  created () {\n    this.loadAddress();\n  },\n  data () {\n    return {\n      goodsCheckList: [],\n      columns: [\n        {\n          type: \'selection\',\n          width: 58,\n          align: \'center\'\n        },\n        {\n          title: \'图片\',\n          key: \'img\',\n          width: 86,\n          render: (h, params) => {\n            return h(\'div\', [\n              h(\'img\', {\n                attrs: {\n                  src: params.row.img\n                }\n              })\n            ]);\n          },\n          align: \'center\'\n        },\n        {\n          title: \'标题\',\n          key: \'title\',\n          align: \'center\'\n        },\n        {\n          title: \'套餐\',\n          width: 198,\n          key: \'package\',\n          align: \'center\'\n        },\n        {\n          title: \'数量\',\n          key: \'count\',\n          width: 68,\n          align: \'center\'\n        },\n        {\n          title: \'价格\',\n          width: 68,\n          key: \'price\',\n          align: \'center\'\n        }\n      ],\n      checkAddress: {\n        name: \'未选择\',\n        address: \'请选择地址\'\n      },\n      remarks: \'\'\n    };\n  },\n  computed: {\n    ...mapState([\'address\', \'shoppingCart\']),\n    totalPrice () {\n      let price = 0;\n      this.goodsCheckList.forEach(item => {\n        price += item.price * item.count;\n      });\n      return price;\n    }\n  },\n  methods: {\n    ...mapActions([\'loadAddress\']),\n    select (selection, row) {\n      console.log(selection);\n      this.goodsCheckList = selection;\n    },\n    changeAddress (data) {\n      const father = this;\n      this.address.forEach(item => {\n        if (item.addressId === data) {\n          father.checkAddress.name = item.name;\n          father.checkAddress.address = `${item.name} ${item.province} ${item.city} ${item.address} ${item.phone} ${item.postalcode}`;\n        }\n      });\n    }\n  },\n  mounted () {\n    setTimeout(() => {\n      this.$refs.selection.selectAll(true);\n    }, 500);\n  },\n  components: {\n    Search,\n    GoodsListNav\n  },\n  store\n};\n<\/script>\n\n<style scoped>\n.goods-list-container {\n  margin: 15px auto;\n  width: 80%;\n}\n.tips-box {\n  margin-bottom: 15px;\n}\n.address-container {\n  margin-top: 15px;\n}\n.address-box {\n  margin-top: 15px;\n  padding: 15px;\n  border: 1px #ccc dotted;\n}\n.address-check {\n  margin: 15px 0px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n}\n.address-check-name {\n  width: 120px;\n  display: flex;\n  justify-content: center;\n  align-content: center;\n  background-color: #ccc;\n}\n.address-check-name span {\n  width: 120px;\n  height: 36px;\n  font-size: 14px;\n  line-height: 36px;\n  text-align: center;\n  color: #fff;\n  background-color: #f90013;\n}\n.address-detail {\n  padding-left: 15px;\n  font-size: 14px;\n  color: #999999;\n}\n.remarks-container {\n  margin: 15px 0px;\n}\n.remarks-input {\n  margin-top: 15px;\n}\n.invoices-container p{\n  font-size: 12px;\n  line-height: 30px;\n  color: #999;\n}\n.pay-container {\n  margin: 15px;\n  display: flex;\n  justify-content: flex-end;\n}\n.pay-box {\n  font-size: 18px;\n  font-weight: bolder;\n  color: #495060;\n}\n.money {\n  font-size: 26px;\n  color: #f90013;\n}\n.pay-btn {\n  margin: 15px 0px;\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n'],sourceRoot:""}])}});
//# sourceMappingURL=15.646fa8ca88a42318a5bb.js.map